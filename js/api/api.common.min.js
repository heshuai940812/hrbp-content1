var projectDomain="https://42.123.106.20:8081/bigdata-hrbp-service",DATE_YYYYMMDD="yyyyMMdd",DATE_MONTH_YYYYMM="yyyyMM",CTSI_API_JSON,CONTRAST_HTMLDOMAIN="http://www.ixiaoru.com",ANALY_POSITIONCHANGECONTRAST_URL="/hrbp-content/view/analy/positionChangeContrast.html",ANALY_ZAIGANGABNORMAL_URL="/hrbp-content/view/analy/zaiGangAbnormal.html",NORM_LIGANGCONTRAST_URL="/hrbp-content/view/norm/liGangContrast.html",NORM_WORKSTANDARDCONTRAST_URL="/hrbp-content/view/norm/workStandardContrast.html",NORM_ZENGGANGCONTRAST_URL="/hrbp-content/view/norm/zengGangContrast.html",POTENCY_TASKPERFORMCONTRAST_URL="/hrbp-content/view/potency/taskPerformContrast.html",INDEX_RED=60;function scaleMap2(a,b,c,d,f,e,g){h_scale({idname:a,leftname:b,centername:c,lchar:d,zchar:f,numId1:e,numId2:g})}function scaleMap2Stage(a,b,c,d,f,e,g){stage_scale({idname:a,leftname:b,centername:c,lchar:d,zchar:f,numId1:e,numId2:g})}function scaleMap3(a,b,c,d,f,e,g,h,k,l){h_scale({idname:a,leftname:b,centername:c,rightname:d,lchar:f,zchar:e,rchar:g,numId1:h,numId2:k,numId3:l})}function scaleMap5(a,b,c,d,f,e,g,h,k,l,m,n,p,q,r,t){jonPotency({idname:a,rate1:b,rate2:c,rate3:d,rate4:f,rate5:e,num1:g,num2:h,num3:k,num4:l,num5:m,numId1:n,numId2:p,numId3:q,numId4:r,numId5:t})}function changeColumar(a,b,c,d,f,e){columnar({idname:a,dataname:b,leftData:c,rightData:d,splitArea:!0,topshow:!1,nameone:f,nametwo:e})}function changeColumarTitle2(a,b,c,d,f,e){columnar_two({idname:a,dataname:b,leftData:c,rightData:d,splitArea:!0,topshow:!1,nameone:f,nametwo:e})}function changeColumar3(a,b,c,d,f,e,g,h){columnar_three({idname:a,dataname:b,leftData:c,rightData:d,threeData:f,splitArea:!0,topshow:!1,nameone:e,nametwo:g,namethree:h})}function changeColumar5(a,b,c,d,f,e,g,h,k,l,m,n){columnar_five({idname:a,dataname:b,leftData:c,rightData:d,threeData:f,fourData:e,fiveData:g,splitArea:!0,topshow:!1,nameone:h,nametwo:k,namethree:l,namefour:m,namefive:n})}function changeHColumar(a,b,c,d){h_columar({idname:a,dataname:b,data:c,topshow:!1,nameone:d})}function changeHColumarWarningValue(a,b,c,d,f){early_columar({idname:a,dataname:b,data:c,topshow:!1,nameone:f,earlyLine:d})}function changeHRing4(a,b,c,d){h_ring({name:"h-ring",data:[{value:a},{value:b},{value:c},{value:d}]})}function changeHRing5(a,b,c,d,f){h_ring({name:"h-ring",color:["#e66440","#f2883b","#9aabd2","#68738c","#3c424f"],data:[{value:a},{value:b},{value:c},{value:d},{value:f}]})}function changeHRegionArea(a,b){if(0===CTSI_API_JSON.baseInfo.userMaxPermission){var c={};$.each(a,function(b,f){if(f.region2===CTSI_API_JSON.baseInfo.defaultZone)return c=a.splice(b,1),!1});a.unshift(c[0])}h_region(getRegionArrayByString(a),{overallId:"droplDown",developDrop:"base-header",developIcon:"base-lhead",leftDrop:"base-area-leftDrop",rightDrop:"base-area-rightDrop",closeDrop:"base-area-closedrop"},b)}function getRegionArrayByString(a){var b=[];$.each(a,function(a,d){var c={};c.region2=d.region2;c.region3=d.region3;b[a]=c});return b}function changeHRegionPost(a,b){createPersonnel(a,{overallId:"personnelDown",developDrop:"base-header",developIcon:"base-chead",leftDrop:"base-leftDrop",rightDrop:"base-rightDrop",closeDrop:"base-closedrop"},b)}function changeMonths(a){if(a){var b=1;$("#showdata").on("touchend",function(){1===b?$("#daysDate").trigger("click"):$("#monthDate").trigger("click")});$("#daysDate").on("click",function(){document.getElementById("monthFlag").value="false";$(this).addClass("leftdropstyle").siblings().removeClass("leftdropstyle");b=1});(new lCalendar).init({trigger:"#daysDate",type:"date"});$("#monthDate").on("click",function(){document.getElementById("dateFlag").value="false";$(this).addClass("leftdropstyle").siblings().removeClass("leftdropstyle");b=2});(new lCalendar).init({trigger:"#monthDate",type:"month"})}else $("#monthDate").addClass("leftdropstyle").siblings().removeClass("leftdropstyle"),a=new lCalendar,a.init({trigger:"#showdata",type:"month"}),a.init({trigger:"#monthDate",type:"month"})}function api(a,b,c,d){checkAndroid()?window.getDataFromNative.postMessage(projectDomain+a,b,c,d):checkIos()?window.webkit.messageHandlers.getDataFromNative.postMessage({url:projectDomain+a,type:b,callback:c,params:d}):alert("\u65e0\u6cd5\u8bc6\u522b\u8bbe\u5907")}function getBasicInformation(a){api(null,1001,a,null)}function getContrastHtml(a){api(null,2001,"openContrastHtml",JSON.stringify(CONTRAST_HTMLDOMAIN+a))}function cancelContrastHtml(){api(null,2002,null,null)}function getHead(a,b,c){$("#region").html(a.regionalScope[0].region1);$("#post").html(a.postList[0]);$("#month").html(a.months[0]);setItem("getDate",a.months[0]);changeHRegionArea(a.regionalScope,b);changeHRegionPost(a.postList,b);changeMonths(c)}function getPhoneAndPost(a){var b={};b.phoneNum=a.baseInfo.userAccountNum;b.postName=a.baseInfo.position;return b}function getArea(){return getAreaByUserMaxPermission()}function getApiReq(a){var b=getArea();b.post=null;a&&(b.post=CTSI_API_JSON.postList[0]);b.date=CTSI_API_JSON.months[0].replace(".","");return b}function getRProportion(a,b){var c=0;null!==a&&null!==b&&(c=100-(Number(a)+Number(b)));return Number(c).toFixed(2)}function getToday(a){return(new Date).Format(a)}function checkAndroid(){var a=navigator.userAgent;return-1<a.indexOf("Android")||-1<a.indexOf("Adr")}function checkIos(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}Date.prototype.Format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};function checkJsonIsNotNull(a){return null!==a&&""!==a}function checkJosnData(a){return 200===a}function checkCodeEqualsOther(a){return 400===a.code||403===a.code||500===a.code||513===a.code||609===a.code||600===a.code}function checkJsonDateIsNotNull(a){return null!==a}function checkCallBackJsonIsNotNull(a){return!(!checkJsonIsNotNull(a)||!checkJosnData(a.code))}function substringChar(a){return a.substring(0,a.length-1)}function getProportion(a,b){return parseFloat(Number(a)/Number(b)*100).toFixed(2)}function getRegion1(){return CTSI_API_JSON.regionalScope[0].region1}function getRegion2(){var a=[];checkJsonIsNotNull(CTSI_API_JSON.regionalScope)&&$.each(CTSI_API_JSON.regionalScope,function(b,c){a[b]=c.region2});return a}function getPostList(){return checkJsonIsNotNull(CTSI_API_JSON.postList)?CTSI_API_JSON.postList:""}function getMonths(){return checkJsonIsNotNull(CTSI_API_JSON.months)?CTSI_API_JSON.months:""}function clickApi(a,b,c,d,f){a=checkRegionNotNullByStr(a,"\u5168\u90e8");b=checkRegionNotNullByStr(b,"\u5168\u90e8");var e={};e.province=getProvinceByUserMaxPermission(CTSI_API_JSON);e.post=null;f&&(e.post=c);e.date=d.replace(".","");0===CTSI_API_JSON.baseInfo.userMaxPermission?(e.province=a,e.city=b):1===CTSI_API_JSON.baseInfo.userMaxPermission?(e.city=a,e.district=b):2===CTSI_API_JSON.baseInfo.userMaxPermission?(e.city=CTSI_API_JSON.baseInfo.city,e.district=a,e.street=b):3===CTSI_API_JSON.baseInfo.userMaxPermission?(e.city=CTSI_API_JSON.baseInfo.city,e.district=CTSI_API_JSON.baseInfo.district,e.street=a,e.grid=b):4===CTSI_API_JSON.baseInfo.userMaxPermission?(e.city=CTSI_API_JSON.baseInfo.city,e.district=CTSI_API_JSON.baseInfo.district,e.street=CTSI_API_JSON.baseInfo.street,e.grid=a):5===CTSI_API_JSON.baseInfo.userMaxPermission&&(e.city=CTSI_API_JSON.baseInfo.city,e.district=CTSI_API_JSON.baseInfo.district,e.street=CTSI_API_JSON.baseInfo.street,e.grid=CTSI_API_JSON.baseInfo.grid);return e}function getAreaByUserMaxPermission(){var a={};0===CTSI_API_JSON.baseInfo.userMaxPermission?a.province=CTSI_API_JSON.baseInfo.defaultZone:1===CTSI_API_JSON.baseInfo.userMaxPermission?a.province=CTSI_API_JSON.baseInfo.province:2===CTSI_API_JSON.baseInfo.userMaxPermission?(a.province=CTSI_API_JSON.baseInfo.province,a.city=CTSI_API_JSON.baseInfo.city):3===CTSI_API_JSON.baseInfo.userMaxPermission?(a.province=CTSI_API_JSON.baseInfo.province,a.city=CTSI_API_JSON.baseInfo.city,a.district=CTSI_API_JSON.baseInfo.district):4===CTSI_API_JSON.baseInfo.userMaxPermission?(a.province=CTSI_API_JSON.baseInfo.province,a.city=CTSI_API_JSON.baseInfo.city,a.district=CTSI_API_JSON.baseInfo.district,a.street=CTSI_API_JSON.baseInfo.street):5===CTSI_API_JSON.baseInfo.userMaxPermission&&(a.province=CTSI_API_JSON.baseInfo.province,a.city=CTSI_API_JSON.baseInfo.city,a.district=CTSI_API_JSON.baseInfo.district,a.street=CTSI_API_JSON.baseInfo.street,a.grid=CTSI_API_JSON.baseInfo.grid);return a}function warningValue(){api("/mobilityAnalysis/warningValue",3001,"cbWarningValue",JSON.stringify(apiReq))}function checkContrastRegionByPermission(a,b){var c={};c.province=getProvinceByUserMaxPermission(CTSI_API_JSON);var d=null;void 0===b&&(b=a);$.each(CTSI_API_JSON.regionalScope,function(a,c){if(c.region2===b)return d=c,!1});1===CTSI_API_JSON.baseInfo.userMaxPermission&&(c.city=a);2===CTSI_API_JSON.baseInfo.userMaxPermission&&(c.city=null!==d?d.region1:CTSI_API_JSON.baseInfo.city,c.district=a);if(3===CTSI_API_JSON.baseInfo.userMaxPermission||4===CTSI_API_JSON.baseInfo.userMaxPermission)c.city=CTSI_API_JSON.baseInfo.city,c.district=null!==d?d.region1:CTSI_API_JSON.baseInfo.district,c.street=a;5===CTSI_API_JSON.baseInfo.userMaxPermission&&(c.city=CTSI_API_JSON.baseInfo.city,c.district=CTSI_API_JSON.baseInfo.district,c.street=CTSI_API_JSON.baseInfo.street,c.city=region);return c}function getContrastAreaArray(a,b){b=checkRegionNotNullByStr(b,"\u5168\u90e8");if(1===a){var c=null,d=null;$.each(b,function(a,b){null!==c?c+=","+b:d=c=b});return checkContrastRegionByPermission(c,d)}return checkContrastRegionByPermission(b)}function getContrastPostArray(a,b){var c=null;2===a?$.each(b,function(a,b){c=null!==c?c+(","+b):b}):c=b;return c}function getContrastMonthArray(a,b){var c="";3===a?$.each(b,function(a,b){c=""!==c?c+(","+b.replace(".","")):b.replace(".","")}):c=b.replace(".","");return c}function getContrastCompareTypeByType(a){if(1===a){if(1===CTSI_API_JSON.baseInfo.userMaxPermission)return"city";if(2===CTSI_API_JSON.baseInfo.userMaxPermission)return"district";if(3===CTSI_API_JSON.baseInfo.userMaxPermission||4===CTSI_API_JSON.baseInfo.userMaxPermission)return"street"}if(2===a)return"post";if(3===a)return"date"}function JsonParse(a){"string"===typeof a&&(a=JSON.parse(a));return a}function changeQuadrant(a,b){quadrant({idname:"scatter",array:a,arr:b})}function checkIndexRedByIndex(a,b){Number(a)<INDEX_RED&&$("#"+b).css("color","#e66440")}function openContrastHtml(a){window.location.href=JSON.parse(a)}function checkRegionNotNullByStr(a,b){return!checkRegionNotNull(a)||-1<a.indexOf(b)?null:a}function checkRegionNotNull(a){return!(null===a||"undefined"===typeof a||""===a)}function getYYYYMMByMonths(){var a=CTSI_API_JSON.months[0].split(".");return a[0]+"\u5e74"+a[1]+"\u6708"}function getPostStrByPostList(){var a,b=CTSI_API_JSON.postList,b=removeByValue(b,"\u5168\u90e8");$.each(b,function(c,d){a=0<c?c===b.length-1?a+("\u4ee5\u53ca"+d):a+("\u3001"+d):d});return a}function removeByValue(a,b){var c=[];$.each(a,function(a,f){-1>=f.indexOf(b)&&(c[c.length]=f)});return c}function checkDivIfExist(a,b){0>=$("#"+b).length&&addPoint(a,b)}function getProvinceByUserMaxPermission(a){return 0===a.baseInfo.userMaxPermission?a.baseInfo.defaultZone:a.baseInfo.province}function getRegion1ByUserMaxPermission(){return 0===CTSI_API_JSON.baseInfo.userMaxPermission?CTSI_API_JSON.baseInfo.defaultZone:CTSI_API_JSON.regionalScope[0].region1}function checkContrastIsNullByTypeAndValue(a,b,c,d){return 1===d&&0<a.length?!0:2===d&&0<b.length?!0:3===d&&0<c.length};